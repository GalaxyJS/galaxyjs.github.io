<nav ui-view="main-nav" class="main-nav">
  <a v-for="nav in navs"
     v-bind:href="'#' + nav.id"
     v-bind:class="{ 'active': nav.id === currentApp }">
    {{ nav.title }}
  </a>
</nav>

<div class="main-content">
  <galaxy-animation ui-view="main-content" effects="galaxy.in-out" in-out-item="card">
  </galaxy-animation>
</div>

<script>

  var modules = {
    start: {
      title: 'Start',
      id: 'start',
      url: 'modules/start/index.html'
    },
    guide: {
      title: 'Guide',
      id: 'guide',
      url: 'modules/guide/index.html'
    },
    api: {
      title: 'API',
      id: 'api',
      url: 'modules/api/index.html'
    },
    tags: {
      title: 'Tags',
      id: 'tags',
      url: 'modules/tags/index.html'
    },
    themes: {
      title: 'Themes',
      id: 'themes',
      url: 'modules/themes/index.html'
    }
  };

  var mainNav = new Vue({
    el: Scope.views[ 'main-nav' ],
    data: {
      navs: modules,
      currentApp: ''
    },
    methods: {
      goTo: function (id) {
        Galaxy.app.setParam('#', id);
      }
    }
  });

  Galaxy.on('#', function (full, app) {
    if (modules[ app ] && mainNav.currentApp !== app) {
      mainNav.currentApp = app;
      Galaxy.helpers.loadModuleInto(modules[ app ], Scope.views[ 'main-content' ]);
    } else {
      mainNav.currentApp = null;
      console.warn('Module not found: ' + app);
      Galaxy.helpers.loadModuleInto({
        id: '404',
        url: 'modules/404/index.html'
      }, Scope.views[ 'main-content' ]);
    }
  });

  Galaxy.app.setParamIfNull('#', 'start');

</script>
